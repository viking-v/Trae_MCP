# 架构与依赖可视化

## 运行时架构（组件图）
```mermaid
graph TD
  Browser[浏览器] -->|HTTP| Frontend[静态前端: index/admin/dashboard]
  Frontend -->|REST + Bearer Token| API[Laravel API /api]
  API --> DB[(SQLite / MySQL)]
  API --> Storage[(Public Storage: vouchers)]
```

## 数据模型（ER 图）
```mermaid
erDiagram
  USERS ||--o{ INVITE_CODES : owns
  USERS ||--o{ REFERRALS : invites
  USERS ||--o{ ACTIVATIONS : submits
  USERS ||--o{ COMMISSIONS : receives
  USERS ||--o{ ADMIN_LOGS : writes
  ACTIVATIONS ||--o{ COMMISSIONS : triggers

  USERS {
    int id
    string username
    string email
    string role
    boolean status
    string activation_status
    string wallet_address
    datetime created_at
  }

  INVITE_CODES {
    int id
    string code
    int owner_user_id
    int used_by_user_id
    datetime used_at
  }

  REFERRALS {
    int id
    int inviter_id
    int invitee_id
  }

  ACTIVATIONS {
    int id
    int user_id
    decimal amount
    string tx_hash
    string voucher_path
    string status
    int reviewed_by
    datetime reviewed_at
  }

  COMMISSIONS {
    int id
    int activation_id
    int from_user_id
    int to_user_id
    int level
    decimal rate
    decimal amount
    datetime created_at
  }

  ADMIN_LOGS {
    int id
    int admin_id
    string action
    string target_type
    string target_id
    json details
    datetime created_at
  }
```

## 前端质量可视化（已生成）
- Plato 报告入口：[reports/plato/index.html](file:///E:/make/CZOWPcVFHILt2YYVJOp0-master-6d735223c1f1d4da5289c50b873d3d8cb50f54d3/reports/plato/index.html)

## 依赖清单（摘要）
- 后端：Laravel 12 + Sanctum（Token 鉴权）
- 前端：Tailwind（CDN）、DaisyUI（CDN）、FontAwesome（CDN）

